<div class="todos-container">
  <div class="todos-header">
    <h2 class="todos-title">
      <span class="todos-icon">ğŸ“</span>
      My Todo List
    </h2>
    <div class="todos-stats">
      <span class="stat-item">
        <span class="stat-number">{{todoItems().length}}</span>
        <span class="stat-label">Total</span>
      </span>
      <span class="stat-item">
        <span class="stat-number">{{getCompletedCount()}}</span>
        <span class="stat-label">Completed</span>
      </span>
      <span class="stat-item">
        <span class="stat-number">{{getPendingCount()}}</span>
        <span class="stat-label">Pending</span>
      </span>
    </div>
  </div>
  @if (!todoItems().length) {
  <p>Loading...</p>
  }

  <div class="filter-section">
    <div class="filter-header">
      <span class="filter-icon">ğŸ”</span>
      <h3 class="filter-title">Search & Filter</h3>
    </div>
    <form class="filter-form">
      <div class="input-group">
        <span class="input-icon">ğŸ“</span>
        <input 
          name="searchTerm" 
          [(ngModel)]="searchTerm" 
          placeholder="Type to search todos..." 
          type="text" 
          class="search-input"
        />
        <button type="button" class="clear-btn" (click)="searchTerm.set('')" *ngIf="searchTerm()">
          âœ•
        </button>
      </div>
      <div class="filter-info" *ngIf="searchTerm()">
        <span class="filter-result">
          {{(todoItems() | filterTodos: searchTerm()).length}} result(s) found
        </span>
      </div>
    </form>
  </div>
  <div class="todos-list">
    @for (todo of todoItems() | filterTodos: searchTerm(); track todo.id) {
    <app-todo-item (todoToggled)="this.updateTodoItem($event)" [todo]="todo" />
    } @empty {
    <div class="empty-state">
      <div class="empty-icon">ğŸ“‹</div>
      <h3>No todos yet!</h3>
      <p>Add some tasks to get started.</p>
    </div>
    }
  </div>
</div>